!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e||self).core=t()}(this,function(){function e(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}e.prototype=Error.prototype;var t=setTimeout;function n(e){return Boolean(e&&void 0!==e.length)}function r(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function i(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}a(t.promise,r)}else(1===e._state?a:s)(t.promise,e._value)})):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void d((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}var r,i}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}function f(e,t){return function(){return e.apply(t,arguments)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return i(this,new u(e,t,n)),n},o.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},o.all=function(e){return new o(function(t,r){if(!n(e))return r(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);var i=o.length;function a(e,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,function(t){a(e,t)},r)}o[e]=n,0==--i&&t(o)}catch(e){r(e)}}for(var s=0;s<o.length;s++)a(s,o[s])})},o.any=function(t){var n=this;return new n(function(r,o){if(!t||void 0===t.length)return o(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return o();for(var a=[],s=0;s<i.length;s++)try{n.resolve(i[s]).then(r).catch(function(t){a.push(t),a.length===i.length&&o(new e(a,"All promises were rejected"))})}catch(e){o(e)}})},o.allSettled=function(e){return new this(function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,function(t){i(e,t)},function(n){r[e]={status:"rejected",reason:n},0==--o&&t(r)})}r[e]={status:"fulfilled",value:n},0==--o&&t(r)}for(var a=0;a<r.length;a++)i(a,r[a])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,r){if(!n(e))return r(new TypeError("Promise.race accepts an array"));for(var i=0,a=e.length;i<a;i++)o.resolve(e[i]).then(t,r)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){t(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var l,h=Object.prototype.toString,p=Object.getPrototypeOf,v=(l=Object.create(null),function(e){var t=h.call(e);return l[t]||(l[t]=t.slice(8,-1).toLowerCase())}),m=function(e){return e=e.toLowerCase(),function(t){return v(t)===e}},w=function(e){return function(t){return typeof t===e}},y=Array.isArray,g=w("undefined"),k=m("ArrayBuffer"),b=w("string"),R=w("function"),E=w("number"),T=function(e){return null!==e&&"object"==typeof e},O=function(e){if("object"!==v(e))return!1;var t=p(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},S=m("Date"),j=m("File"),P=m("Blob"),U=m("FileList"),A=m("URLSearchParams");function C(e,t,n){var r,o,i=(void 0===n?{}:n).allOwnKeys,a=void 0!==i&&i;if(null!=e)if("object"!=typeof e&&(e=[e]),y(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{var s,c=a?Object.getOwnPropertyNames(e):Object.keys(e),u=c.length;for(r=0;r<u;r++)t.call(null,e[s=c[r]],s,e)}}function _(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),o=r.length;o-- >0;)if(t===(n=r[o]).toLowerCase())return n;return null}var N,x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,F=function(e){return!g(e)&&e!==x},I=(N="undefined"!=typeof Uint8Array&&p(Uint8Array),function(e){return N&&e instanceof N}),q=m("HTMLFormElement"),B=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),L=m("RegExp"),D=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};C(n,function(n,o){var i;!1!==(i=t(n,o,e))&&(r[o]=i||n)}),Object.defineProperties(e,r)},M="abcdefghijklmnopqrstuvwxyz",z="0123456789",J={DIGIT:z,ALPHA:M,ALPHA_DIGIT:M+M.toUpperCase()+z},H=m("AsyncFunction"),W={isArray:y,isArrayBuffer:k,isBuffer:function(e){return null!==e&&!g(e)&&null!==e.constructor&&!g(e.constructor)&&R(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"==typeof FormData&&e instanceof FormData||R(e.append)&&("formdata"===(t=v(e))||"object"===t&&R(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&k(e.buffer)},isString:b,isNumber:E,isBoolean:function(e){return!0===e||!1===e},isObject:T,isPlainObject:O,isUndefined:g,isDate:S,isFile:j,isBlob:P,isRegExp:L,isFunction:R,isStream:function(e){return T(e)&&R(e.pipe)},isURLSearchParams:A,isTypedArray:I,isFileList:U,forEach:C,merge:function e(){for(var t=(F(this)&&this||{}).caseless,n={},r=function(r,o){var i=t&&_(n,o)||o;n[i]=O(n[i])&&O(r)?e(n[i],r):O(r)?e({},r):y(r)?r.slice():r},o=0,i=arguments.length;o<i;o++)arguments[o]&&C(arguments[o],r);return n},extend:function(e,t,n,r){return C(t,function(t,r){e[r]=n&&R(t)?f(t,n):t},{allOwnKeys:(void 0===r?{}:r).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var o,i,a,s={};if(t=t||{},null==e)return t;do{for(i=(o=Object.getOwnPropertyNames(e)).length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&p(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:v,kindOfTest:m,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length);var r=e.indexOf(t,n-=t.length);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(y(e))return e;var t=e.length;if(!E(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var o=n.value;t.call(e,o[0],o[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:q,hasOwnProperty:B,hasOwnProp:B,reduceDescriptors:D,freezeMethods:function(e){D(e,function(t,n){if(R(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;R(e[n])&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:function(e,t){var n={},r=function(e){e.forEach(function(e){n[e]=!0})};return y(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n})},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:_,global:x,isContextDefined:F,ALPHABET:J,generateString:function(e,t){void 0===e&&(e=16),void 0===t&&(t=J.ALPHA_DIGIT);for(var n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&R(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(T(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var o=y(n)?[]:{};return C(n,function(t,n){var i=e(t,r+1);!g(i)&&(o[n]=i)}),t[r]=void 0,o}}return n}(e,0)},isAsyncFn:H,isThenable:function(e){return e&&(T(e)||R(e))&&R(e.then)&&R(e.catch)}};function K(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}W.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var V=K.prototype,G={};function X(e){return W.isPlainObject(e)||W.isArray(e)}function $(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function Q(e,t,n){return e?e.concat(t).map(function(e,t){return e=$(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(e){G[e]={value:e}}),Object.defineProperties(K,G),Object.defineProperty(V,"isAxiosError",{value:!0}),K.from=function(e,t,n,r,o,i){var a=Object.create(V);return W.toFlatObject(e,a,function(e){return e!==Error.prototype},function(e){return"isAxiosError"!==e}),K.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};var Z=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});function Y(e,t,n){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!W.isUndefined(t[e])})).metaTokens,o=n.visitor||u,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(W.isDate(e))return e.toISOString();if(!s&&W.isBlob(e))throw new K("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(e)||W.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,o){var s=e;if(e&&!o&&"object"==typeof e)if(W.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(W.isArray(e)&&function(e){return W.isArray(e)&&!e.some(X)}(e)||(W.isFileList(e)||W.endsWith(n,"[]"))&&(s=W.toArray(e)))return n=$(n),s.forEach(function(e,r){!W.isUndefined(e)&&null!==e&&t.append(!0===a?Q([n],r,i):null===a?n:n+"[]",c(e))}),!1;return!!X(e)||(t.append(Q(o,n,i),c(e)),!1)}var d=[],f=Object.assign(Z,{defaultVisitor:u,convertValue:c,isVisitable:X});if(!W.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!W.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),W.forEach(n,function(n,i){!0===(!(W.isUndefined(n)||null===n)&&o.call(t,n,W.isString(i)?i.trim():i,r,f))&&e(n,r?r.concat(i):[i])}),d.pop()}}(e),t}function ee(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function te(e,t){this._pairs=[],e&&Y(e,this,t)}var ne=te.prototype;function re(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oe(e,t,n){if(!t)return e;var r,o=n&&n.encode||re,i=n&&n.serialize;if(r=i?i(t,n):W.isURLSearchParams(t)?t.toString():new te(t,n).toString(o)){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}ne.append=function(e,t){this._pairs.push([e,t])},ne.toString=function(e){var t=e?function(t){return e.call(this,t,ee)}:ee;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};var ie=/*#__PURE__*/function(){function e(){this.handlers=[]}var t=e.prototype;return t.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},t.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},t.clear=function(){this.handlers&&(this.handlers=[])},t.forEach=function(e){W.forEach(this.handlers,function(t){null!==t&&e(t)})},e}(),ae={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}var ce,ue={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:te,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},de="undefined"!=typeof window&&"undefined"!=typeof document,fe=(ce="undefined"!=typeof navigator&&navigator.product,de&&["ReactNative","NativeScript","NS"].indexOf(ce)<0),le=se({},{__proto__:null,hasBrowserEnv:de,hasStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,hasStandardBrowserEnv:fe},ue);function he(e){function t(e,n,r,o){var i=e[o++],a=Number.isFinite(+i),s=o>=e.length;return i=!i&&W.isArray(r)?r.length:i,s?(r[i]=W.hasOwnProp(r,i)?[r[i],n]:n,!a):(r[i]&&W.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&W.isArray(r[i])&&(r[i]=function(e){var t,n,r={},o=Object.keys(e),i=o.length;for(t=0;t<i;t++)r[n=o[t]]=e[n];return r}(r[i])),!a)}if(W.isFormData(e)&&W.isFunction(e.entries)){var n={};return W.forEachEntry(e,function(e,r){t(function(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(function(e){return"[]"===e[0]?"":e[1]||e[0]})}(e),r,n,0)}),n}return null}var pe={transitional:ae,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",o=r.indexOf("application/json")>-1,i=W.isObject(e);if(i&&W.isHTMLForm(e)&&(e=new FormData(e)),W.isFormData(e))return o&&o?JSON.stringify(he(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Y(e,new le.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return le.isNode&&W.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=W.isFileList(e))||r.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return Y(n?{"files[]":e}:e,a&&new a,this.formSerializer)}}return i||o?(t.setContentType("application/json",!1),function(e,t,n){if(W.isString(e))try{return(0,JSON.parse)(e),W.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||pe.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&W.isString(e)&&(n&&!this.responseType||r)){var o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw K.from(e,K.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:le.classes.FormData,Blob:le.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],function(e){pe.headers[e]={}});var ve=pe,me=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),we=Symbol("internals");function ye(e){return e&&String(e).trim().toLowerCase()}function ge(e){return!1===e||null==e?e:W.isArray(e)?e.map(ge):String(e)}function ke(e,t,n,r,o){return W.isFunction(r)?r.call(this,t,n):(o&&(t=n),W.isString(t)?W.isString(r)?-1!==t.indexOf(r):W.isRegExp(r)?r.test(t):void 0:void 0)}var be=/*#__PURE__*/function(e,t){function n(e){e&&this.set(e)}var r,o,i=n.prototype;return i.set=function(e,t,n){var r=this;function o(e,t,n){var o=ye(t);if(!o)throw new Error("header name must be a non-empty string");var i=W.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=ge(e))}var i,a,s,c,u,d=function(e,t){return W.forEach(e,function(e,n){return o(e,n,t)})};return W.isPlainObject(e)||e instanceof this.constructor?d(e,t):W.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?d((u={},(i=e)&&i.split("\n").forEach(function(e){c=e.indexOf(":"),a=e.substring(0,c).trim().toLowerCase(),s=e.substring(c+1).trim(),!a||u[a]&&me[a]||("set-cookie"===a?u[a]?u[a].push(s):u[a]=[s]:u[a]=u[a]?u[a]+", "+s:s)}),u),t):null!=e&&o(t,e,n),this},i.get=function(e,t){if(e=ye(e)){var n=W.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(W.isFunction(t))return t.call(this,r,n);if(W.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}},i.has=function(e,t){if(e=ye(e)){var n=W.findKey(this,e);return!(!n||void 0===this[n]||t&&!ke(0,this[n],n,t))}return!1},i.delete=function(e,t){var n=this,r=!1;function o(e){if(e=ye(e)){var o=W.findKey(n,e);!o||t&&!ke(0,n[o],o,t)||(delete n[o],r=!0)}}return W.isArray(e)?e.forEach(o):o(e),r},i.clear=function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var o=t[n];e&&!ke(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r},i.normalize=function(e){var t=this,n={};return W.forEach(this,function(r,o){var i=W.findKey(n,o);if(i)return t[i]=ge(r),void delete t[o];var a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n})}(o):String(o).trim();a!==o&&delete t[o],t[a]=ge(r),n[a]=!0}),this},i.concat=function(){var e;return(e=this.constructor).concat.apply(e,[this].concat([].slice.call(arguments)))},i.toJSON=function(e){var t=Object.create(null);return W.forEach(this,function(n,r){null!=n&&!1!==n&&(t[r]=e&&W.isArray(n)?n.join(", "):n)}),t},i[e]=function(){return Object.entries(this.toJSON())[Symbol.iterator]()},i.toString=function(){return Object.entries(this.toJSON()).map(function(e){return e[0]+": "+e[1]}).join("\n")},n.from=function(e){return e instanceof this?e:new this(e)},n.concat=function(e){var t=new this(e);return[].slice.call(arguments,1).forEach(function(e){return t.set(e)}),t},n.accessor=function(e){var t=(this[we]=this[we]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=ye(e);t[r]||(function(e,t){var n=W.toCamelCase(" "+t);["get","set","has"].forEach(function(r){Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})})}(n,e),t[r]=!0)}return W.isArray(e)?e.forEach(r):r(e),this},r=n,(o=[{key:t,get:function(){return"AxiosHeaders"}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),n}(Symbol.iterator,Symbol.toStringTag);be.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),W.reduceDescriptors(be.prototype,function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}}),W.freezeMethods(be);var Re=be;function Ee(e,t){var n=this||ve,r=t||n,o=Re.from(r.headers),i=r.data;return W.forEach(e,function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function Te(e){return!(!e||!e.__CANCEL__)}function Oe(e,t,n){K.call(this,null==e?"canceled":e,K.ERR_CANCELED,t,n),this.name="CanceledError"}W.inherits(Oe,K,{__CANCEL__:!0});var Se=le.hasStandardBrowserEnv?{write:function(e,t,n,r,o,i){var a=[e+"="+encodeURIComponent(t)];W.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),W.isString(r)&&a.push("path="+r),W.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function je(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Pe=le.hasStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=W.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function Ue(e,t){var n=0,r=function(e,t){e=e||10;var n,r=new Array(e),o=new Array(e),i=0,a=0;return t=void 0!==t?t:1e3,function(s){var c=Date.now(),u=o[a];n||(n=c),r[i]=s,o[i]=c;for(var d=a,f=0;d!==i;)f+=r[d++],d%=e;if((i=(i+1)%e)===a&&(a=(a+1)%e),!(c-n<t)){var l=u&&c-u;return l?Math.round(1e3*f/l):void 0}}}(50,250);return function(o){var i=o.loaded,a=o.lengthComputable?o.total:void 0,s=i-n,c=r(s);n=i;var u={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&i<=a?(a-i)/c:void 0,event:o};u[t?"download":"upload"]=!0,e(u)}}var Ae="undefined"!=typeof XMLHttpRequest&&function(e){return new o(function(t,n){var r,o,i=e.data,a=Re.from(e.headers).normalize(),s=e.responseType,c=e.withXSRFToken;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}if(W.isFormData(i))if(le.hasStandardBrowserEnv||le.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if(!1!==(o=a.getContentType())){var d=o?o.split(";").map(function(e){return e.trim()}).filter(Boolean):[],f=d[0],l=d.slice(1);a.setContentType([f||"multipart/form-data"].concat(l).join("; "))}var h=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(p+":"+v))}var m=je(e.baseURL,e.url);function w(){if(h){var r=Re.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new K("Request failed with status code "+n.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}(function(e){t(e),u()},function(e){n(e),u()},{data:s&&"text"!==s&&"json"!==s?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}}if(h.open(e.method.toUpperCase(),oe(m,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,"onloadend"in h?h.onloadend=w:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(w)},h.onabort=function(){h&&(n(new K("Request aborted",K.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new K("Network Error",K.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new K(t,(e.transitional||ae).clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,h)),h=null},le.hasStandardBrowserEnv&&(c&&W.isFunction(c)&&(c=c(e)),c||!1!==c&&Pe(m))){var y=e.xsrfHeaderName&&e.xsrfCookieName&&Se.read(e.xsrfCookieName);y&&a.set(e.xsrfHeaderName,y)}void 0===i&&a.setContentType(null),"setRequestHeader"in h&&W.forEach(a.toJSON(),function(e,t){h.setRequestHeader(t,e)}),W.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),s&&"json"!==s&&(h.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",Ue(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",Ue(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){h&&(n(!t||t.type?new Oe(null,e,h):t),h.abort(),h=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var g,k=(g=/^([-+\w]{1,25})(:?\/\/|:)/.exec(m))&&g[1]||"";k&&-1===le.protocols.indexOf(k)?n(new K("Unsupported protocol "+k+":",K.ERR_BAD_REQUEST,e)):h.send(i||null)})},Ce={http:null,xhr:Ae};W.forEach(Ce,function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});var _e=function(e){return"- "+e},Ne=function(e){return W.isFunction(e)||null===e||!1===e},xe=function(e){for(var t,n,r=(e=W.isArray(e)?e:[e]).length,o={},i=0;i<r;i++){var a=void 0;if(n=t=e[i],!Ne(t)&&void 0===(n=Ce[(a=String(t)).toLowerCase()]))throw new K("Unknown adapter '"+a+"'");if(n)break;o[a||"#"+i]=n}if(!n){var s=Object.entries(o).map(function(e){return"adapter "+e[0]+" "+(!1===e[1]?"is not supported by the environment":"is not available in the build")});throw new K("There is no suitable adapter to dispatch the request "+(r?s.length>1?"since :\n"+s.map(_e).join("\n"):" "+_e(s[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function Fe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Oe(null,e)}function Ie(e){return Fe(e),e.headers=Re.from(e.headers),e.data=Ee.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xe(e.adapter||ve.adapter)(e).then(function(t){return Fe(e),t.data=Ee.call(e,e.transformResponse,t),t.headers=Re.from(t.headers),t},function(t){return Te(t)||(Fe(e),t&&t.response&&(t.response.data=Ee.call(e,e.transformResponse,t.response),t.response.headers=Re.from(t.response.headers))),o.reject(t)})}var qe=function(e){return e instanceof Re?e.toJSON():e};function Be(e,t){t=t||{};var n={};function r(e,t,n){return W.isPlainObject(e)&&W.isPlainObject(t)?W.merge.call({caseless:n},e,t):W.isPlainObject(t)?W.merge({},t):W.isArray(t)?t.slice():t}function o(e,t,n){return W.isUndefined(t)?W.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!W.isUndefined(t))return r(void 0,t)}function a(e,t){return W.isUndefined(t)?W.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}var c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:function(e,t){return o(qe(e),qe(t),!0)}};return W.forEach(Object.keys(Object.assign({},e,t)),function(r){var i=c[r]||o,a=i(e[r],t[r],r);W.isUndefined(a)&&i!==s||(n[r]=a)}),n}var Le={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){Le[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var De={};Le.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,i){if(!1===e)throw new K(r(o," has been removed"+(t?" in "+t:"")),K.ERR_DEPRECATED);return t&&!De[o]&&(De[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};var Me={assertOptions:function(e,t,n){if("object"!=typeof e)throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new K("option "+i+" must be "+c,K.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new K("Unknown option "+i,K.ERR_BAD_OPTION)}},validators:Le},ze=Me.validators,Je=/*#__PURE__*/function(){function e(e){this.defaults=e,this.interceptors={request:new ie,response:new ie}}var t=e.prototype;return t.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{};var n=(t=Be(this.defaults,t)).transitional,r=t.paramsSerializer,i=t.headers;void 0!==n&&Me.assertOptions(n,{silentJSONParsing:ze.transitional(ze.boolean),forcedJSONParsing:ze.transitional(ze.boolean),clarifyTimeoutError:ze.transitional(ze.boolean)},!1),null!=r&&(W.isFunction(r)?t.paramsSerializer={serialize:r}:Me.assertOptions(r,{encode:ze.function,serialize:ze.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var a=i&&W.merge(i.common,i[t.method]);i&&W.forEach(["delete","get","head","post","put","patch","common"],function(e){delete i[e]}),t.headers=Re.concat(a,i);var s=[],c=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(c=c&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});var u,d=[];this.interceptors.response.forEach(function(e){d.push(e.fulfilled,e.rejected)});var f,l=0;if(!c){var h=[Ie.bind(this),void 0];for(h.unshift.apply(h,s),h.push.apply(h,d),f=h.length,u=o.resolve(t);l<f;)u=u.then(h[l++],h[l++]);return u}f=s.length;var p=t;for(l=0;l<f;){var v=s[l++],m=s[l++];try{p=v(p)}catch(e){m.call(this,e);break}}try{u=Ie.call(this,p)}catch(e){return o.reject(e)}for(l=0,f=d.length;l<f;)u=u.then(d[l++],d[l++]);return u},t.getUri=function(e){return oe(je((e=Be(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)},e}();W.forEach(["delete","get","head","options"],function(e){Je.prototype[e]=function(t,n){return this.request(Be(n||{},{method:e,url:t,data:(n||{}).data}))}}),W.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,o){return this.request(Be(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Je.prototype[e]=t(),Je.prototype[e+"Form"]=t(!0)});var He=Je,We=/*#__PURE__*/function(){function e(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new o(function(e){t=e});var n=this;this.promise.then(function(e){if(n._listeners){for(var t=n._listeners.length;t-- >0;)n._listeners[t](e);n._listeners=null}}),this.promise.then=function(e){var t,r=new o(function(e){n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,o){n.reason||(n.reason=new Oe(e,r,o),t(n.reason))})}var t=e.prototype;return t.throwIfRequested=function(){if(this.reason)throw this.reason},t.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},e.source=function(){var t;return{token:new e(function(e){t=e}),cancel:t}},e}(),Ke=We,Ve={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ve).forEach(function(e){Ve[e[1]]=e[0]});var Ge=Ve,Xe=function e(t){var n=new He(t),r=f(He.prototype.request,n);return W.extend(r,He.prototype,n,{allOwnKeys:!0}),W.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Be(t,n))},r}(ve);Xe.Axios=He,Xe.CanceledError=Oe,Xe.CancelToken=Ke,Xe.isCancel=Te,Xe.VERSION="1.6.2",Xe.toFormData=Y,Xe.AxiosError=K,Xe.Cancel=Xe.CanceledError,Xe.all=function(e){return o.all(e)},Xe.spread=function(e){return function(t){return e.apply(null,t)}},Xe.isAxiosError=function(e){return W.isObject(e)&&!0===e.isAxiosError},Xe.mergeConfig=Be,Xe.AxiosHeaders=Re,Xe.formToJSON=function(e){return he(W.isHTMLForm(e)?new FormData(e):e)},Xe.getAdapter=xe,Xe.HttpStatusCode=Ge,Xe.default=Xe;var $e=Xe,Qe={user:{},tokens:{},mode:"live"},Ze=function(e){var t={exports:{}};return function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(o[u]=c,e===u)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}(function(){})},e.exports=n()}(t),t.exports}();function Ye(e){try{var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(window.atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}catch(e){console.error("Problem decoding JWT payload",e)}}function et(e){try{if(!e)return!1;var t=Ye(e);return new Date(1e3*t.exp)>new Date}catch(e){return!1}}function tt(e){var t,n;if(e){if("string"==typeof e)throw new Error(e);if(null!=e&&null!=(t=e.response)&&null!=(n=t.data)&&n.message)throw new Error(e.response.data.message);throw e}}function nt(){return"undefined"!=typeof window}var rt=Qe.user;function ot(e){return e.replace(/([^:]\/)\/+/g,"$1")}var it=function(e,t,n){try{var r=ot(""+Qe.baseUrl+e);return o.resolve($e.put(r,t,n))}catch(e){return o.reject(e)}},at=function(e,t,n){try{var r=ot(""+Qe.baseUrl+e);return o.resolve($e.post(r,t,n))}catch(e){return o.reject(e)}},st=function(e,t){try{var n=ot(""+Qe.baseUrl+e);return o.resolve($e.get(n,t))}catch(e){return o.reject(e)}};function ct(e,t,n){var r=n+"."+Qe.tenantId;t=t||{secure:"live"===Qe.mode,sameSite:"Lax"},"refresh"===n&&(t.sameSite="Strict"),Ze.set(r,e,t)}function ut(e){var t,n;try{var r=window.location.pathname,o=window.location.hostname,i=o.split(".").slice(-2).join(".");t=[void 0,r,"/"],n=[void 0,o,"."+o,i,"."+i]}catch(e){t=[void 0,"/"],n=[void 0]}t.map(function(t){n.map(function(n){var r={};n&&(r.domain=n),t&&(r.path=t),Ze.remove(e,r)})})}function dt(){ut(Qe.tokens.accessTokenName),ut(Qe.tokens.idTokenName),ut(Qe.tokens.refreshTokenName),Qe.tokens.accessToken=void 0,Qe.tokens.idToken=void 0,Qe.tokens.refreshToken=void 0,function(){for(var e in Qe.user)"function"!=typeof Qe.user[e]&&delete Qe.user[e]}()}function ft(){return!!Tt.firstFactorToken}function lt(){return Tt.firstFactorToken?{authorization:"Bearer "+Tt.firstFactorToken}:{}}function ht(){Tt.secondFactors=[],Tt.firstFactorToken=null}var pt=function(){try{return o.resolve(vt()).then(function(e){return{isLoggedIn:e,needsSecondFactor:ft(),firstFactors:Tt.firstFactors,secondFactors:Tt.secondFactors,resetMfaState:ht}})}catch(e){return o.reject(e)}},vt=function(){return o.resolve(function(e,t){try{var n=!!At()||!!et(Qe.tokens.refreshToken)&&o.resolve(jt()).then(function(){return At()})}catch(e){return!1}return n&&n.then?n.then(void 0,function(){return!1}):n}())},mt={codeChallenge:"",get usePkce(){return!!mt.codeChallenge}};function wt(){nt()&&(window.localStorage.removeItem("uf_pkce_code_challenge"),window.localStorage.removeItem("uf_pkce_code_challenge_expiresAt"))}function yt(){if(nt()){var e=kt("code_challenge");if(e)return mt.codeChallenge=e,function(e){if(nt()){if(!e)return wt();mt.codeChallenge=e;var t=Date.now()+3e5;try{window.localStorage.setItem("uf_pkce_code_challenge",e),window.localStorage.setItem("uf_pkce_code_challenge_expiresAt",t)}catch(e){}}}(e),!0;var t=function(){if(nt()){var e=window.localStorage.getItem("uf_pkce_code_challenge");if(e){var t=window.localStorage.getItem("uf_pkce_code_challenge_expiresAt");if(t&&parseInt(t,10)>Date.now())return e}}}();return t?(mt.codeChallenge=t,!0):(wt(),!1)}}function gt(){return mt.usePkce?{code_challenge:mt.codeChallenge}:{}}function kt(e){if("object"==typeof window&&"object"==typeof window.location&&window.location.href&&!(window.location.href.indexOf(e+"=")<0))return decodeURIComponent(window.location.href.split(e+"=")[1].split("&")[0])}var bt=function(e,t){!1!==e&&Rt(!0!==e?e||kt("redirect")||t.redirectTo||"/":kt("redirect")||t.redirectTo||"/")};function Rt(e){if(e&&"object"==typeof document&&"object"==typeof window){try{document&&window}catch(e){return}var t=document.createElement("a");t.href=e,t.pathname!==window.location.pathname&&window.location.assign(""+t.pathname+t.hash+t.search)}}var Et=function(e){var t=e.data,n=e.redirect,r=e.handleUpstreamResponse,i=e.handleMfaRequired,a=e.handlePkceRequired,s=e.handleTokens,c=e.handleRedirect;try{function u(){var e;function r(r){if(e)return r;function i(){var e;function r(r){if(e)return r;var i=function(){if(t.hasOwnProperty("redirectTo")&&!1!==n){var e=function(){if("function"==typeof c)return o.resolve(c(d,t)).then(function(){});bt(d,t)}();if(e&&e.then)return e.then(function(){})}}();return i&&i.then?i.then(function(){return t}):t}var i=function(){if(t.hasOwnProperty("authorizationCode")){if(!d)throw new Error("Missing PKCE redirect url");return"function"==typeof a?o.resolve(a(t.authorizationCode,d,t)).then(function(){}):(function(e,t,n){if(t&&e){mt.usePkce||console.warn("Redirecting with a PKCE authorization code, but no PKCE challenge code is present in the client. This is unexpected.");var r=new URL(t);r.searchParams.set("authorization_code",e),wt(),window.location.assign(r.href)}}(t.authorizationCode,d),e=1,t)}}();return i&&i.then?i.then(r):r(i)}var u=function(){if(t.hasOwnProperty("tokens")){var e="function"==typeof s?o.resolve(s(t.tokens,t)).then(function(){}):o.resolve(Pt(t.tokens,t)).then(function(){});if(e&&e.then)return e.then(function(){})}}();return u&&u.then?u.then(i):i()}var u=function(){if(t.hasOwnProperty("firstFactorToken")){function n(){return e=1,t}var r=function(){if("function"==typeof i)return o.resolve(i(t.firstFactorToken,t)).then(function(){});!function(e,t){t.isMfaRequired?(Tt.firstFactorToken=e,Tt.secondFactors=t.authentication.secondFactors):"OK"===t.message&&ht()}(t.firstFactorToken,t)}();return r&&r.then?r.then(n):n()}}();return u&&u.then?u.then(r):r(u)}var d=n||kt("redirect")||t.redirectTo||"/",f=function(){if("function"==typeof r)return o.resolve(r(t.upstreamResponse,t)).then(function(){})}();return o.resolve(f&&f.then?f.then(u):u())}catch(l){return o.reject(l)}},Tt={firstFactors:[],secondFactors:[],firstFactorToken:null};function Ot(e){ct(e.access.value,e.access.cookieOptions,"access"),ct(e.id.value,e.id.cookieOptions,"id"),e.refresh&&e.refresh.value&&ct(e.refresh.value,e.refresh.cookieOptions,"refresh"),Ut()}function St(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var jt=function(){try{var e=St(function(){return o.resolve(function(){try{var e=Ze.get(Qe.tokens.refreshTokenName);return o.resolve(St(function(){return o.resolve(st("/auth/refresh",{headers:{authorization:"Bearer "+e}})).then(function(e){var t=e.data;if(200!==e.status)throw new Error(t.message||"Problem with request");if(t.tokens)return Ot(t.tokens),t;throw new Error("Problem setting cookies")})},function(e){tt(e)}))}catch(e){return o.reject(e)}}()).then(function(){})},function(e){console.warn("Refresh failed: "+e.message)});return o.resolve(e&&e.then?e.then(function(){}):void 0)}catch(e){return o.reject(e)}},Pt=function(e,t){try{return Ot(e),o.resolve(o.resolve()).then(function(){})}catch(e){return o.reject(e)}};function Ut(){["access","id","refresh"].map(function(e){try{var t=Ze.get(Qe.tokens[e+"TokenName"]);Qe.tokens[e+"Token"]=t,"id"===e&&t&&function(){if(!Qe.tokens.idToken)return console.warn("Cannot define user: missing ID token");Qe.user=Qe.user||{};for(var e=Ye(Qe.tokens.idToken),t=0,n=["email","phoneNumber","username","name","image","data","createdAt","updatedAt","mode","userId","userUuid","tenantId","isEmailConfirmed","isPhoneNumberConfirmed","confirmedEmailAt","confirmedPhoneNumberAt","isMfaRequired","isConfirmed"];t<n.length;t++){var r=n[t];if("update"===r)return;Qe.user[r]=e[r]}}()}catch(t){console.warn("Problem setting "+e+" token.")}})}function At(){return et(Qe.tokens.accessToken)}Qe.tokens=Qe.tokens||{},Qe.tokens.refresh=jt;var Ct=Qe.tokens;function _t(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var Nt=function(e){var t=e.password,n=e.existingPassword;try{return o.resolve(_t(function(){if(!Qe.tokens.accessToken)throw new Error('updatePassword({ method: "jwt" }) was called without a JWT access token.');return o.resolve(it("/tenants/"+Qe.tenantId+"/auth/basic",{password:t,existingPassword:n},{headers:{Authorization:"Bearer "+Qe.tokens.accessToken}})).then(function(e){return e.data})},function(e){tt(e)}))}catch(e){return o.reject(e)}},xt=function(e){var t=e.uuid,n=e.token,r=e.password,i=e.redirect,a=e.handleUpstreamResponse,s=e.handleMfaRequired,c=e.handlePkceRequired,u=e.handleTokens,d=e.handleRedirect;try{return o.resolve(_t(function(){if(n=n||kt("token"),t=t||kt("uuid"),!n||!t)throw new Error("Missing token or uuid");return o.resolve(it("/tenants/"+Qe.tenantId+"/auth/reset",{uuid:t,token:n,password:r})).then(function(e){return Et({data:e.data,redirect:i,handleUpstreamResponse:a,handleMfaRequired:s,handlePkceRequired:c,handleTokens:u,handleRedirect:d})})},function(e){tt(e)}))}catch(e){return o.reject(e)}},Ft=function(e){var t=e.method,n=e.password,r=e.existingPassword,i=e.uuid,a=e.token,s=e.redirect,c=e.handleUpstreamResponse,u=e.handleMfaRequired,d=e.handlePkceRequired,f=e.handleTokens,l=e.handleRedirect;try{switch(t){case"link":return xt({uuid:i,token:a,password:n,redirect:s,handleUpstreamResponse:c,handleMfaRequired:u,handlePkceRequired:d,handleTokens:f,handleRedirect:l});case"jwt":return Nt({password:n,existingPassword:r});default:if(a=a||kt("token"),(i=i||kt("uuid"))&&a)return xt({uuid:i,token:a,password:n,redirect:s,handleUpstreamResponse:c,handleMfaRequired:u,handlePkceRequired:d,handleTokens:f,handleRedirect:l});if(Qe.tokens.accessToken)return Nt({password:n,existingPassword:r});throw new Error("updatePassword() was called without link credentials (token & uuid) or a JWT access token.")}}catch(e){return o.reject(e)}},It=Ft;function qt(e){var t=e.provider,n=e.redirect,r=e.providerId;if(!t)throw new Error("Missing provider");var o=function(e){var t=e.provider,n=e.redirect,r=e.providerId;if(!t)throw new Error("Missing provider");if(!Qe.tenantId)throw new Error("Missing tenantId");if("custom"===t&&!r)throw new Error("Missing providerId");var o=new URL(Qe.baseUrl+"auth/"+t+"/login");o.searchParams.append("origin",window.location.origin),o.searchParams.append("tenant_id",Qe.tenantId),"custom"===t&&o.searchParams.append("provider_id",r);var i=n||kt("redirect");return!1===n&&(i="object"==typeof document&&document.location.pathname),i&&o.searchParams.append("redirect",i),o.toString()}({provider:t,redirect:n,providerId:r});window.location.assign(o)}function Bt(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var Lt=function(e){var t=e.email,n=e.name,r=e.username,i=e.userData,a=e.options;try{return o.resolve(Bt(function(){return o.resolve(at("/tenants/"+Qe.tenantId+"/auth/link",{email:t,name:n,username:r,data:i,options:a})).then(function(e){return e.data})},function(e){tt(e)}))}catch(e){return o.reject(e)}};function Dt(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function Mt(e){var t=e.channel,n=e.phoneNumber,r=e.email;if("sms"!==t&&"email"!==t)throw new Error("Invalid channel");if(!ft()){if("sms"===t&&!n)throw new Error('SMS verification code requires "phoneNumber"');if("email"===t&&!r)throw new Error('Email verification code requires "email"')}}var zt=function(e){var t=e.channel,n=void 0===t?"sms":t,r=e.phoneNumber,i=e.email,a=e.name,s=e.username,c=e.data;try{return o.resolve(Dt(function(){return Mt({channel:n,phoneNumber:r,email:i}),o.resolve(at("/tenants/"+Qe.tenantId+"/auth/code",{channel:n,email:i,phoneNumber:r,name:a,username:s,data:c},{headers:lt()})).then(function(e){return e.data})},function(e){tt(e)}))}catch(e){return o.reject(e)}};function Jt(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}function Ht(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}var Wt=/((^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.))\d{1,3}\.\d{1,3}/g,Kt=function(){try{return o.resolve(function(e,t){try{var n=o.resolve(st("/tenants/"+Qe.tenantId+"/mode")).then(function(e){var t,n=e.data;return Vt.value=n.mode||"test",Vt.reason=Xt(Vt.value),Qe.mode=Vt.value,t=n.authentication,Qe.tenantId?t&&"object"==typeof t&&Array.isArray(t.firstFactors)?Tt.firstFactors=t.firstFactors:console.warn("setFirstFactors: invalid factors passed."):console.warn("setFirstFactors: tried to set factors without a tenantId set."),n})}catch(e){return t()}return n&&n.then?n.then(void 0,t):n}(0,function(){Vt.value="test",Qe.mode=Vt.value}))}catch(e){return o.reject(e)}},Vt={value:"live",reason:void 0,setMode:Kt};function Gt(){var e=function(e){try{var t=window.location.hostname;return!(!t.match(/localhost/g)&&!t.match(Wt))}catch(e){return!0}}()||!function(){try{return"https:"===window.location.protocol}catch(e){return!1}}()?"test":"live";Vt.value=e,Vt.reason=Xt(e),Qe.mode=e}function Xt(e){try{return"live"===e?"domain":"http:"===window.location.protocol?"http":"https:"!==window.location.protocol?"protocol":"domain"}catch(e){}}Gt(),Qe.user.update=function(e){try{return!e||Object.keys(e).length<1?o.resolve(console.warn("Missing user properties to update")):o.resolve(it("/self",e,{headers:{authorization:"Bearer "+Qe.tokens.accessToken}})).then(function(){return o.resolve(jt()).then(function(){return Qe.user})})}catch(e){return o.reject(e)}},Qe.user.hasRole=function(e,t){var n=(void 0===t?{}:t).tenantId;try{if(!Qe.tokens.accessToken||!Qe.tenantId)return!1;var r=Ye(Qe.tokens.accessToken).authorization;return!!r&&!(!r[n=n||Qe.tenantId]||!r[n].roles)&&r[n].roles.indexOf(e)>-1}catch(e){return!1}},Qe.user.updatePassword=Ft,Qe.user.getTotp=function(){try{var e;return o.resolve(Jt(function(){function t(t){if(e)return t;if(!Qe.tokens.accessToken)throw new Error("getTotp() was called without a JWT access token.");return o.resolve(st("/auth/totp",{headers:{Authorization:"Bearer "+Qe.tokens.accessToken}})).then(function(e){return e.data})}var n=function(){if(ft())return o.resolve(st("/auth/totp",{headers:lt()})).then(function(t){return e=1,t.data})}();return n&&n.then?n.then(t):t(n)},function(e){tt(e)}))}catch(e){return o.reject(e)}};var $t=[],Qt=!1,Zt={addInitCallback:function(e){e&&"function"==typeof e&&$t.push(e)},init:function(e,t){if(void 0===t&&(t={}),!e)return console.warn("Userfront initialized without tenantId");if(Qe.tenantId=e,Qe.baseUrl=t.baseUrl||"https://api.userfront.com/v0/",Qe.baseUrl.endsWith("/")||(Qe.baseUrl+="/"),t.domain){Qe.domain=t.domain;var n="https://"+Qe.domain;$e.defaults.headers.common["x-application-id"]=n,$e.defaults.headers.common["x-origin"]=n}Qe.tokens=Qe.tokens||{},Qe.tokens.accessTokenName="access."+Qe.tenantId,Qe.tokens.idTokenName="id."+Qe.tenantId,Qe.tokens.refreshTokenName="refresh."+Qe.tenantId,Ut(),Gt(),ht(),Tt.firstFactors=[];try{$t.length>0&&$t.forEach(function(t){t&&"function"==typeof t&&t({tenantId:e})}),$t=[]}catch(e){}},registerUrlChangedEventListener:function(){if(!Qt){Qt=!0;try{history.pushState=(e=history.pushState,function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("urlchanged")),t}),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("urlchanged")),t}}(history.replaceState),window.addEventListener("popstate",function(){window.dispatchEvent(new Event("urlchanged"))})}catch(e){}var e}},logout:function(e){var t=void 0===e?{}:e,n=t.method,r=t.redirect;try{if("saml"===n)return function(){try{if(!Qe.tokens.accessToken)throw new Error("Please log in to authorize your logout request.");var e=Ht(function(){return o.resolve(st("/auth/saml/idp/token",{headers:{authorization:"Bearer "+Qe.tokens.accessToken}})).then(function(e){window.location.assign(Qe.baseUrl+"auth/saml/idp/logout?tenant_id="+Qe.tenantId+"&token="+e.data.token+"&uuid="+Qe.user.userUuid)})},function(e){tt(e)});return o.resolve(e&&e.then?e.then(function(){}):void 0)}catch(e){return o.reject(e)}}();if(!Qe.tokens.accessToken)return o.resolve(dt());var i=Ht(function(){return o.resolve(st("/auth/logout",{headers:{authorization:"Bearer "+Qe.tokens.accessToken}})).then(function(e){var t=e.data;dt(),bt(r,t)})},function(){dt()});return o.resolve(i&&i.then?i.then(function(){}):void 0)}catch(e){return o.reject(e)}},mode:Vt,setMode:Kt,refresh:function(e,t,n){try{console.warn("Userfront.refresh() is deprecated and will be removed. Please use Userfront.tokens.refresh() instead.")}catch(e){}return jt()},login:function(e){var t=void 0===e?{}:e,n=t.method,r=t.userId,i=t.userUuid,a=t.email,s=t.username,c=t.emailOrUsername,u=t.phoneNumber,d=t.password,f=t.token,l=t.uuid,h=t.totpCode,p=t.backupCode,v=t.channel,m=t.verificationCode,w=t.providerId,y=t.redirect,g=t.handleUpstreamResponse,k=t.handleMfaRequired,b=t.handlePkceRequired,R=t.handleTokens,E=t.handleRedirect,T=t.options;try{if(!n)throw new Error('Userfront.login called without "method" property.');switch(yt(),n){case"apple":case"azure":case"facebook":case"github":case"google":case"linkedin":case"okta":return o.resolve(qt({provider:n,redirect:y}));case"custom":return o.resolve(qt({provider:n,redirect:y,providerId:w}));case"password":return o.resolve(function(e){var t=e.email,n=e.username,r=e.emailOrUsername,i=e.password,a=e.redirect,s=e.handleUpstreamResponse,c=e.handleMfaRequired,u=e.handlePkceRequired,d=e.handleTokens,f=e.handleRedirect,l=e.options;try{return o.resolve(_t(function(){var e={emailOrUsername:t||n||r,password:i};return l&&l.noResetEmail&&(e.options={noResetEmail:!0}),o.resolve(at("/tenants/"+Qe.tenantId+"/auth/basic",e,{headers:lt(),params:gt()})).then(function(e){return Et({data:e.data,redirect:a,handleUpstreamResponse:s,handleMfaRequired:c,handlePkceRequired:u,handleTokens:d,handleRedirect:f})})},function(e){tt(e)}))}catch(e){return o.reject(e)}}({email:a,username:s,emailOrUsername:c,password:d,redirect:y,handleUpstreamResponse:g,handleMfaRequired:k,handlePkceRequired:b,handleTokens:R,handleRedirect:E,options:T}));case"password-migrate":return o.resolve(function(e){var t=e.email,n=e.username,r=e.emailOrUsername,i=e.password,a=e.redirect,s=e.handleUpstreamResponse,c=e.handleMfaRequired,u=e.handlePkceRequired,d=e.handleTokens,f=e.handleRedirect,l=e.options;try{return o.resolve(function(e,h){try{var p=function(){var e={emailOrUsername:t||n||r,password:i};return l&&l.noResetEmail&&(e.options={noResetEmail:!0}),o.resolve(at("/tenants/"+Qe.tenantId+"/auth/password/migrate",e,{headers:lt(),params:gt()})).then(function(e){return Et({data:e.data,redirect:a,handleUpstreamResponse:s,handleMfaRequired:c,handlePkceRequired:u,handleTokens:d,handleRedirect:f})})}()}catch(e){return h(e)}return p&&p.then?p.then(void 0,h):p}(0,function(e){tt(e)}))}catch(e){return o.reject(e)}}({email:a,username:s,emailOrUsername:c,password:d,redirect:y,handleUpstreamResponse:g,handleMfaRequired:k,handlePkceRequired:b,handleTokens:R,handleRedirect:E,options:T}));case"passwordless":return o.resolve(Lt({email:a}));case"link":return o.resolve(function(e){var t=void 0===e?{}:e,n=t.token,r=t.uuid,i=t.redirect,a=t.handleUpstreamResponse,s=t.handleMfaRequired,c=t.handlePkceRequired,u=t.handleTokens,d=t.handleRedirect;try{return o.resolve(Bt(function(){if(n=n||kt("token"),r=r||kt("uuid"),n&&r)return o.resolve(it("/tenants/"+Qe.tenantId+"/auth/link",{token:n,uuid:r},{headers:lt(),params:gt()})).then(function(e){return Et({data:e.data,redirect:i,handleUpstreamResponse:a,handleMfaRequired:s,handlePkceRequired:c,handleTokens:u,handleRedirect:d})})},function(e){tt(e)}))}catch(e){return o.reject(e)}}({token:f,uuid:l,redirect:y,handleUpstreamResponse:g,handleMfaRequired:k,handlePkceRequired:b,handleTokens:R,handleRedirect:E}));case"totp":return o.resolve(function(e){var t=void 0===e?{}:e,n=t.totpCode,r=t.backupCode,i=t.userId,a=t.userUuid,s=t.emailOrUsername,c=t.email,u=t.username,d=t.phoneNumber,f=t.redirect,l=t.handleUpstreamResponse,h=t.handleMfaRequired,p=t.handlePkceRequired,v=t.handleTokens,m=t.handleRedirect;try{return o.resolve(Jt(function(){return o.resolve(at("/tenants/"+Qe.tenantId+"/auth/totp",{totpCode:n,backupCode:r,userId:i,userUuid:a,emailOrUsername:s,email:c,username:u,phoneNumber:d},{headers:lt(),params:gt()})).then(function(e){return Et({data:e.data,redirect:f,handleUpstreamResponse:l,handleMfaRequired:h,handlePkceRequired:p,handleTokens:v,handleRedirect:m})})},function(e){tt(e)}))}catch(e){return o.reject(e)}}({totpCode:h,backupCode:p,userId:r,userUuid:i,emailOrUsername:c,email:a,username:s,phoneNumber:u,redirect:y,handleUpstreamResponse:g,handleMfaRequired:k,handlePkceRequired:b,handleTokens:R,handleRedirect:E}));case"verificationCode":return o.resolve(function(e){var t=void 0===e?{}:e,n=t.channel,r=t.verificationCode,i=t.email,a=t.phoneNumber,s=t.redirect,c=t.handleUpstreamResponse,u=t.handleMfaRequired,d=t.handlePkceRequired,f=t.handleTokens,l=t.handleRedirect;try{return o.resolve(Dt(function(){return Mt({channel:n,phoneNumber:a,email:i}),o.resolve(it("/tenants/"+Qe.tenantId+"/auth/code",{channel:n,verificationCode:r,email:i,phoneNumber:a},{headers:lt(),params:gt()})).then(function(e){return Et({data:e.data,redirect:s,handleUpstreamResponse:c,handleMfaRequired:u,handlePkceRequired:d,handleTokens:f,handleRedirect:l})})},function(e){tt(e)}))}catch(e){return o.reject(e)}}({channel:v,email:a,phoneNumber:u,verificationCode:m,redirect:y,handleUpstreamResponse:g,handleMfaRequired:k,handlePkceRequired:b,handleTokens:R,handleRedirect:E}));case"saml":return o.resolve(function(){try{return o.resolve(function(e,t){try{var n=Qe.tokens.accessToken?o.resolve(st("/auth/saml/idp/token",{headers:{authorization:"Bearer "+Qe.tokens.accessToken}})).then(function(e){window.location.assign(Qe.baseUrl+"auth/saml/idp/login?tenant_id="+Qe.tenantId+"&token="+e.data.token+"&uuid="+Qe.user.userUuid)}):console.warn("Cannot complete SAML login without access token")}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}(0,function(e){tt(e)}))}catch(e){return o.reject(e)}}());default:throw new Error('Userfront.login called with invalid "method" property.')}}catch(e){return o.reject(e)}},resetPassword:It,updatePassword:Ft,sendLoginLink:function(e){try{return o.resolve(Bt(function(){return o.resolve(at("/tenants/"+Qe.tenantId+"/auth/link",{email:e})).then(function(e){return e.data})},function(e){tt(e)}))}catch(e){return o.reject(e)}},sendResetLink:function(e){try{return o.resolve(_t(function(){return o.resolve(at("/tenants/"+Qe.tenantId+"/auth/reset/link",{email:e})).then(function(e){return e.data})},function(e){tt(e)}))}catch(e){return o.reject(e)}},sendVerificationCode:zt,signup:function(e){var t=void 0===e?{}:e,n=t.method,r=t.email,i=t.username,a=t.phoneNumber,s=t.name,c=t.data,u=t.password,d=t.channel,f=t.providerId,l=t.redirect,h=t.handleUpstreamResponse,p=t.handleMfaRequired,v=t.handlePkceRequired,m=t.handleTokens,w=t.handleRedirect;try{if(yt(),!n)throw new Error('Userfront.signup called without "method" property.');switch(n){case"apple":case"azure":case"facebook":case"github":case"google":case"linkedin":case"okta":return o.resolve(qt({provider:n,redirect:l}));case"custom":return o.resolve(qt({provider:n,redirect:l,providerId:f}));case"password":return o.resolve(function(e){var t=void 0===e?{}:e,n=t.username,r=t.name,i=t.email,a=t.password,s=t.userData,c=t.redirect,u=t.handleUpstreamResponse,d=t.handleMfaRequired,f=t.handlePkceRequired,l=t.handleTokens,h=t.handleRedirect;try{return o.resolve(_t(function(){return o.resolve(at("/tenants/"+Qe.tenantId+"/auth/create",{username:n,name:r,email:i,password:a,data:s},{headers:lt(),params:gt()})).then(function(e){return Et({data:e.data,redirect:c,handleUpstreamResponse:u,handleMfaRequired:d,handlePkceRequired:f,handleTokens:l,handleRedirect:h})})},function(e){tt(e)}))}catch(e){return o.reject(e)}}({username:i,name:s,email:r,password:u,userData:c,redirect:l,handleUpstreamResponse:h,handleMfaRequired:p,handlePkceRequired:v,handleTokens:m,handleRedirect:w}));case"passwordless":return o.resolve(Lt({email:r,name:s,username:i,userData:c}));case"verificationCode":return o.resolve(zt({channel:d,email:r,phoneNumber:a,name:s,username:i,data:c}));default:throw new Error('Userfront.signup called with invalid "method" property.')}}catch(e){return o.reject(e)}},store:Qe,tokens:Ct,accessToken:function(){return Qe.tokens.accessToken=Ze.get(Qe.tokens.accessTokenName),Qe.tokens.accessToken},idToken:function(){return Qe.tokens.idToken=Ze.get(Qe.tokens.idTokenName),Qe.tokens.idToken},getSession:pt,redirectIfLoggedIn:function(e){var t=(void 0===e?{}:e).redirect;try{return o.resolve(pt()).then(function(e){if(!e.isLoggedIn)return dt();if(!mt.usePkce){if(t)return Rt(t);if(kt("redirect"))return Rt(kt("redirect"));var n=function(e,t){try{var n=o.resolve(st("/self",{headers:{authorization:"Bearer "+Qe.tokens.accessToken}})).then(function(e){var t=e.data;t.tenant&&t.tenant.loginRedirectPath&&Rt(t.tenant.loginRedirectPath)})}catch(e){return t()}return n&&n.then?n.then(void 0,t):n}(0,function(){dt()});return n&&n.then?n.then(function(){}):void 0}})}catch(e){return o.reject(e)}},redirectIfLoggedOut:function(e){var t=(void 0===e?{}:e).redirect;try{return o.resolve(pt()).then(function(e){if(!e.isLoggedIn)return dt(),t?Rt(t):kt("redirect")?Rt(kt("redirect")):void 0})}catch(e){return o.reject(e)}},user:rt};return Zt});
//# sourceMappingURL=userfront-core.ie11.umd.js.map
